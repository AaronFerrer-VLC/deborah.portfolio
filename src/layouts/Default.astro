---
import {NavBar} from '@/components/NavBar';
import { ModeToggle } from '@/components/ModeToggle';

import '@/styles/globals.css'
import '@fontsource/roboto/500.css';

const { title } = Astro.props;
---

<script is:inline>
	const getThemePreference = () => {
		if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
			return localStorage.getItem('theme');
		}
		return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
	};
	const isDark = getThemePreference() === 'dark';
	document.documentElement.classList[isDark ? 'add' : 'remove']('dark');
 
	if (typeof localStorage !== 'undefined') {
		const observer = new MutationObserver(() => {
			const isDark = document.documentElement.classList.contains('dark');
			localStorage.setItem('theme', isDark ? 'dark' : 'light');
		});
		observer.observe(document.documentElement, { attributes: true, attributeFilter: ['class'] });
	}
</script>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{title}</title>
    <meta name="description" content="Your page description here">
    <link rel="icon" href="/path/to/favicon.ico">
    <link rel="stylesheet" href="/path/to/styles.css">
    <!-- Open Graph Tags -->
    <meta property="og:title" content="{title}">
    <meta property="og:description" content="Your page description here">
    <meta property="og:image" content="/path/to/image.jpg">
    <meta property="og:url" content="https://yourwebsite.com">
    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{title}">
    <meta name="twitter:description" content="Your page description here">
    <meta name="twitter:image" content="/path/to/image.jpg">
  </head>
  <body>
    <NavBar client:load/>
    <div class="container mx-auto">
      <br />
      <slot />
    </div>
    <div class="fixed bottom-4 right-4">
      <ModeToggle client:load/>
    </div>
  </body>
</html>